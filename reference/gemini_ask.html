<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Gemini API Interaction with R — gemini_ask • lares</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Gemini API Interaction with R — gemini_ask"><meta name="description" content="This function lets the user interact with Google's Gemini LLM Model using
its API, and returns the rendered reply."><meta property="og:description" content="This function lets the user interact with Google's Gemini LLM Model using
its API, and returns the rendered reply."><meta property="og:image" content="https://laresbernardo.github.io/lares/logo.png"><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-166493168-2"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-166493168-2');
</script></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">lares</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">5.3.1.9001</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/laresbernardo/lares/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Gemini API Interaction with R</h1>
      <small class="dont-index">Source: <a href="https://github.com/laresbernardo/lares/blob/main/R/gemini.R" class="external-link"><code>R/gemini.R</code></a></small>
      <div class="d-none name"><code>gemini_ask.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function lets the user interact with Google's Gemini LLM Model using
its API, and returns the rendered reply.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">gemini_ask</span><span class="op">(</span></span>
<span>  <span class="va">ask</span>,</span>
<span>  secret_key <span class="op">=</span> <span class="fu"><a href="get_credentials.html">get_creds</a></span><span class="op">(</span><span class="st">"gemini"</span><span class="op">)</span><span class="op">$</span><span class="va">api_key</span>,</span>
<span>  url <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"LARES_GEMINI_API"</span><span class="op">)</span>,</span>
<span>  temperature <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>  max_tokens <span class="op">=</span> <span class="fl">1024</span>,</span>
<span>  quiet <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">gemini_image</span><span class="op">(</span></span>
<span>  <span class="va">ask</span>,</span>
<span>  <span class="va">image</span>,</span>
<span>  secret_key <span class="op">=</span> <span class="fu"><a href="get_credentials.html">get_creds</a></span><span class="op">(</span><span class="st">"gemini"</span><span class="op">)</span><span class="op">$</span><span class="va">api_key</span>,</span>
<span>  url <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"LARES_GEMINI_API"</span><span class="op">)</span>,</span>
<span>  temperature <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>  max_tokens <span class="op">=</span> <span class="fl">1024</span>,</span>
<span>  quiet <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-ask">ask<a class="anchor" aria-label="anchor" href="#arg-ask"></a></dt>
<dd><p>Character. Redacted prompt to ask. If multiple asks are
requested, they will be concatenated with "+" into a single request.</p></dd>


<dt id="arg-secret-key">secret_key<a class="anchor" aria-label="anchor" href="#arg-secret-key"></a></dt>
<dd><p>Character. Secret Key. Get yours in:
platform.openai.com for OpenAI or makersuite.google.com/app/apikey
for Gemini.</p></dd>


<dt id="arg-url">url<a class="anchor" aria-label="anchor" href="#arg-url"></a></dt>
<dd><p>Character. Base API URL.</p></dd>


<dt id="arg-temperature">temperature<a class="anchor" aria-label="anchor" href="#arg-temperature"></a></dt>
<dd><p>Numeric. The temperature to use for generating
the response. Default is 0.5. The lower the <code>temperature</code>,
the more deterministic the results in the sense that the highest probable
next token is always picked. Increasing temperature could lead to more
randomness, which encourages more diverse or creative outputs. You are
essentially increasing the weights of the other possible tokens.
In terms of application, you might want to use a lower temperature value
for tasks like fact-based QA to encourage more factual and concise responses.
For poem generation or other creative tasks, it might be beneficial to
increase the temperature value.</p></dd>


<dt id="arg-max-tokens">max_tokens<a class="anchor" aria-label="anchor" href="#arg-max-tokens"></a></dt>
<dd><p>Integer. The maximum number of tokens in the response.</p></dd>


<dt id="arg-quiet">quiet<a class="anchor" aria-label="anchor" href="#arg-quiet"></a></dt>
<dd><p>Boolean. Keep quiet? If not, informative messages will be shown.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Additional parameters.</p></dd>


<dt id="arg-image">image<a class="anchor" aria-label="anchor" href="#arg-image"></a></dt>
<dd><p>Character. Data to be encoded/decoded. It can be a raw vector,
text connection or file name.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>(Invisible) list. Content returned from API POST and processed.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other API:
<code><a href="bring_api.html">bring_api</a>()</code>,
<code><a href="fb_accounts.html">fb_accounts</a>()</code>,
<code><a href="fb_ads.html">fb_ads</a>()</code>,
<code><a href="fb_creatives.html">fb_creatives</a>()</code>,
<code><a href="fb_insights.html">fb_insights</a>()</code>,
<code><a href="fb_process.html">fb_process</a>()</code>,
<code><a href="fb_report_check.html">fb_report_check</a>()</code>,
<code><a href="fb_rf.html">fb_rf</a>()</code>,
<code><a href="fb_token.html">fb_token</a>()</code>,
<code><a href="gpt_ask.html">gpt_ask</a>()</code>,
<code><a href="queryGA.html">queryGA</a>()</code>,
<code><a href="slackSend.html">slackSend</a>()</code></p>
<p>Other LLM:
<code><a href="gpt_ask.html">gpt_ask</a>()</code>,
<code><a href="gpt_prompter.html">gpt_prompter</a>()</code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="va">api_key</span> <span class="op">&lt;-</span> <span class="fu"><a href="get_credentials.html">get_credentials</a></span><span class="op">(</span><span class="op">)</span><span class="op">$</span><span class="va">gemini</span><span class="op">$</span><span class="va">api_key</span></span></span>
<span class="r-in"><span><span class="co"># Open question:</span></span></span>
<span class="r-in"><span><span class="fu">gemini_ask</span><span class="op">(</span><span class="st">"Can you write an R function to plot a dummy histogram?"</span>, <span class="va">api_key</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Image question</span></span></span>
<span class="r-in"><span><span class="va">image</span> <span class="op">&lt;-</span> <span class="st">"man/figures/automl_map.png"</span></span></span>
<span class="r-in"><span><span class="fu">gemini_image</span><span class="op">(</span><span class="st">"Can you explain this flow with more detail?"</span>, <span class="va">image</span>, <span class="va">api_key</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Bernardo Lares.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

